{{> header}}

{{#if teacher}}

	{{#if classDetails}}

		<main class="classDetails">
			<div class="main_cover"></div>

			<div class="classDetails__container">
				<div class="classDetails__header">
	
					<div class="classDetails__header--leftInfo">
						<span class="leftInfo__name">{{classDetails.name}}</span>
						<span class="leftInfo__tests">Evaluaciones: {{classDetails.tests}}</span>
						<div class="leftInfo__code--container">

							<span>Código</span>

							<div class="code__container">
								<code class="active {{classDetails.color}}">&bullet;&bullet;&bullet;&bullet;&bullet;&bullet;</code>
								<div class="code__container--classID has__tooltip">
									<code class="{{classDetails.color}}">{{classDetails.code}}</code>
									<span class="tooltip">Copiar código</span>
								</div>
							</div>

							<div class="code__show active">
								<svg viewBox="0 0 448 512">
									<path d="M144 144c0-44.2 35.8-80 80-80c31.9 0 59.4 18.6 72.3 45.7c7.6 16 26.7 22.8 42.6 15.2s22.8-26.7 15.2-42.6C331 33.7 281.5 0 224 0C144.5 0 80 64.5 80 144v48H64c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V256c0-35.3-28.7-64-64-64H144V144z"/>
								</svg>
							</div>
							<div class="code__unshow">
								<svg viewBox="0 0 448 512">
									<path d="M144 144v48H304V144c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192V144C80 64.5 144.5 0 224 0s144 64.5 144 144v48h16c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V256c0-35.3 28.7-64 64-64H80z"/>
								</svg>
							</div>

						</div>
					</div>

					<div class="classDetails__header--centralInfo">

						<div class="classDetails__bottom">
							<button class="classDetails__bottom--button send">Enviar notificación</button>
							<button class="classDetails__bottom--button del">Eliminar clase</button>
						</div>

					</div>

					<div class="classDetails__header--rightInfo">

						<span class="rightInfo__section">Sección: {{classDetails.section}}</span>

						<span class="rightInfo__students" title="Estudiantes">
							<span class="rightInfo__students--quantity">{{classDetails.students}}</span>
							<svg viewBox="0 0 677.55 650.71" class="{{classDetails.color}}">
								<path d="M677.55,0V650.71H0V596.48C0,489.64,59.78,397.21,146.61,353A217.3,217.3,0,0,1,100,218.18C100,97.69,197.62,0,318.13,0Z"></path>
								<path d="M368.83,382.87H267.43a173.32,173.32,0,0,0-173.3,173.3,34.67,34.67,0,0,0,34.66,34.67h378.7a34.6,34.6,0,0,0,34.64-34.67A173.31,173.31,0,0,0,368.83,382.87Zm-50.7-48a128,128,0,1,0-128-128A128,128,0,0,0,318.13,334.87Z"></path>
							</svg>
						</span>

					</div>
	
				</div>

				<div class="classDetails__content">
					<div class="classDetails__content--container">
						<div class="content__container--students">
							{{#if studentsInfo}}

								<div class="content__container--column titles">
									<span class="content__column--title firstname">Nombre</span>
									<span class="content__column--title lastname">Apellido</span>
									<span class="content__column--title ci">Cédula</span>
									<span class="content__column--title grade">Nota</span>
									<spam class="content__column--title actions">Acciones</spam>
								</div>

								<div class="content__container--fields">

									{{#each studentsInfo}}
										<div class="content__fields--student" data-usrid="{{id_student}}">
											<div class="content__student--row">
												<div class="content__field">{{firstname}}</div>
												<div class="content__field">{{lastname}}</div>
												<div class="content__field">{{ci}}</div>
												<div class="content__field">
													<span>{{grade}}</span>
													{{#if canRecu}}
														<svg viewBox="0 0 512 512" class="valid">
															<path d="M243.8 339.8C232.9 350.7 215.1 350.7 204.2 339.8L140.2 275.8C129.3 264.9 129.3 247.1 140.2 236.2C151.1 225.3 168.9 225.3 179.8 236.2L224 280.4L332.2 172.2C343.1 161.3 360.9 161.3 371.8 172.2C382.7 183.1 382.7 200.9 371.8 211.8L243.8 339.8zM512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 48C141.1 48 48 141.1 48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48z"/>
															<title>Este estudiante puede realizar el recuperativo</title>
														</svg>
													{{else}}	
														<svg viewBox="0 0 512 512" class="invalid">
															<path d="M175 175C184.4 165.7 199.6 165.7 208.1 175L255.1 222.1L303 175C312.4 165.7 327.6 165.7 336.1 175C346.3 184.4 346.3 199.6 336.1 208.1L289.9 255.1L336.1 303C346.3 312.4 346.3 327.6 336.1 336.1C327.6 346.3 312.4 346.3 303 336.1L255.1 289.9L208.1 336.1C199.6 346.3 184.4 346.3 175 336.1C165.7 327.6 165.7 312.4 175 303L222.1 255.1L175 208.1C165.7 199.6 165.7 184.4 175 175V175zM512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 48C141.1 48 48 141.1 48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48z"/>
															<title>Este estudiante no puede realizar el recuperativo</title>
														</svg>
													{{/if}}
												</div>
												<div class="content__field actions">

													<div class="content__field--buttons active">

														<div class="content__button edit" title="Editar notas" data-usrid="{{id_student}}">
															<svg viewBox="0 0 448 512">
																<path d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM325.8 139.7l14.4 14.4c15.6 15.6 15.6 40.9 0 56.6l-21.4 21.4-71-71 21.4-21.4c15.6-15.6 40.9-15.6 56.6 0zM119.9 289L225.1 183.8l71 71L190.9 359.9c-4.1 4.1-9.2 7-14.9 8.4l-60.1 15c-5.5 1.4-11.2-.2-15.2-4.2s-5.6-9.7-4.2-15.2l15-60.1c1.4-5.6 4.3-10.8 8.4-14.9z"/>
															</svg>
														</div>
		
														<div class="content__button delete" title="Eliminar estudiante" data-usrid="{{id_student}}">
															<svg viewBox="0 0 448 512">
																<path d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm88 200H296c13.3 0 24 10.7 24 24s-10.7 24-24 24H152c-13.3 0-24-10.7-24-24s10.7-24 24-24z"/>
															</svg>
														</div>

													</div>

													<div class="content__field--buttons">

														<div class="content__button submit disabled" title="No hay cambios para guardar" data-usrid="{{id_student}}">
															<svg viewBox="0 0 448 512">
																<path d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"/>
															</svg>
														</div>
		
														<div class="content__button cancel" title="Cancelar" data-usrid="{{id_student}}">
															<svg viewBox="0 0 448 512">
																<path d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm79 143c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"/>
															</svg>
														</div>

													</div>
													
												</div>
											</div>

											<div class="content__student--details unshow">
												<div class="student__details--grades">
													
													<div class="student__grades--button prev unshow">
														<svg viewBox="0 0 448 512">
															<path d="M0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96L0 416zM128 256c0-6.7 2.8-13 7.7-17.6l112-104c7-6.5 17.2-8.2 25.9-4.4s14.4 12.5 14.4 22l0 208c0 9.5-5.7 18.2-14.4 22s-18.9 2.1-25.9-4.4l-112-104c-4.9-4.5-7.7-10.9-7.7-17.6z"/>
														</svg>
													</div>

													<div class="student__grades--button next unshow">
														<svg viewBox="0 0 448 512">
															<path d="M448 96c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320zM320 256c0 6.7-2.8 13-7.7 17.6l-112 104c-7 6.5-17.2 8.2-25.9 4.4s-14.4-12.5-14.4-22l0-208c0-9.5 5.7-18.2 14.4-22s18.9-2.1 25.9 4.4l112 104c4.9 4.5 7.7 10.9 7.7 17.6z"/>
														</svg>
													</div>

													<div class="student__grades--selected">
														<form action="/class{{id_class}}/student{{id_student}}/grades" method="post">
															{{#each grades}}
																<div class="student__selected--container {{#if @first}}active{{/if}}" data-ind="{{@index}}">
																	{{#if @last}}
																		<div class="student__selected--title">
																			<span class="student__selected--title">{{test}}</span>
																			<svg viewBox="0 0 512 512">
																				<title>Asistencias, intervenciones, etc.</title>
																				<path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"/>
																			</svg>
																		</div>
																	{{else}}
																		<span class="student__selected--title">{{test}}</span>
																	{{/if}}
																	<div class="student__selected--grade">
																		<span>Nota:</span>
																		<input type="number" name="grade{{inc @index}}" value="{{grade}}" step=".01" max="100" maxlength="5" placeholder="0.00">
																	</div>
																</div>
															{{/each}}
														</form>
													</div>

												</div>
											</div>
										</div>
									{{/each}}

								</div>

								{{else}}

								<div class="empty__list">
									<span>Aun no hay estudiantes en esta clase.</span>
								</div>

							{{/if}}
						</div>
					</div>
				</div>
			</div>
		</main>

	{{/if}}

{{/if}}

{{#if student}}

	{{#if classDetails}}

		<main class="classDetails">
			<div class="main_cover"></div>

			<div class="classDetails__container">
				<div class="classDetails__header">
	
					<div class="classDetails__header--leftInfo">
						<span class="leftInfo__name">{{classDetails.name}}</span>
						<div class="leftInfo__teacher">
							<span class="leftInfo__teacher--title">Profesor:</span>
							<span class="leftInfo__teacher--content">{{classDetails.tfirstname}} {{classDetails.tlastname}}</span>
						</div>
					</div>

					<div class="classDetails__header--centralInfo">

						<div class="classDetails__bottom">
							<button class="classDetails__bottom--button exit">Salir de la clase</button>
						</div>

					</div>

					<div class="classDetails__header--rightInfo">

						<span class="rightInfo__section">Sección: {{classDetails.section}}</span>

						<span class="rightInfo__students" title="Estudiantes">
							<span class="rightInfo__students--quantity">{{classDetails.students}}</span>
							<svg viewBox="0 0 677.55 650.71" class="{{classDetails.color}}">
								<path d="M677.55,0V650.71H0V596.48C0,489.64,59.78,397.21,146.61,353A217.3,217.3,0,0,1,100,218.18C100,97.69,197.62,0,318.13,0Z"></path>
								<path d="M368.83,382.87H267.43a173.32,173.32,0,0,0-173.3,173.3,34.67,34.67,0,0,0,34.66,34.67h378.7a34.6,34.6,0,0,0,34.64-34.67A173.31,173.31,0,0,0,368.83,382.87Zm-50.7-48a128,128,0,1,0-128-128A128,128,0,0,0,318.13,334.87Z"></path>
							</svg>
						</span>

					</div>
	
				</div>

				<div class="classDetails__content">
					<div class="classDetails__content--container">
						<div class="content__container--students">
							{{#if studentsInfo}}

								<div class="content__container--column titles">
									<span class="content__column--title firstname">Nombre</span>
									<span class="content__column--title lastname">Apellido</span>
									<span class="content__column--title ci">Cédula</span>
									<span class="content__column--title grade">Nota</span>
								</div>

								<div class="content__container--fields">

									{{#each studentsInfo}}
										<div class="content__fields--student" data-usrid="{{id_student}}">
											<div class="content__student--row">
												<div class="content__field">{{firstname}}</div>
												<div class="content__field">{{lastname}}</div>
												<div class="content__field">{{ci}}</div>
												<div class="content__field grade" data-usrid="{{id_student}}">
													<span>{{grade}}</span>
													{{#if canRecu}}
														<svg viewBox="0 0 512 512" class="valid">
															<path d="M243.8 339.8C232.9 350.7 215.1 350.7 204.2 339.8L140.2 275.8C129.3 264.9 129.3 247.1 140.2 236.2C151.1 225.3 168.9 225.3 179.8 236.2L224 280.4L332.2 172.2C343.1 161.3 360.9 161.3 371.8 172.2C382.7 183.1 382.7 200.9 371.8 211.8L243.8 339.8zM512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 48C141.1 48 48 141.1 48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48z"/>
															<title>Este estudiante puede realizar el recuperativo</title>
														</svg>
													{{else}}	
														<svg viewBox="0 0 512 512" class="invalid">
															<path d="M175 175C184.4 165.7 199.6 165.7 208.1 175L255.1 222.1L303 175C312.4 165.7 327.6 165.7 336.1 175C346.3 184.4 346.3 199.6 336.1 208.1L289.9 255.1L336.1 303C346.3 312.4 346.3 327.6 336.1 336.1C327.6 346.3 312.4 346.3 303 336.1L255.1 289.9L208.1 336.1C199.6 346.3 184.4 346.3 175 336.1C165.7 327.6 165.7 312.4 175 303L222.1 255.1L175 208.1C165.7 199.6 165.7 184.4 175 175V175zM512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 48C141.1 48 48 141.1 48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48z"/>
															<title>Este estudiante no puede realizar el recuperativo</title>
														</svg>
													{{/if}}
												</div>
											</div>

											<div class="content__student--details unshow">
												<div class="student__details--grades">
													
													<div class="student__grades--button prev unshow">
														<svg viewBox="0 0 448 512">
															<path d="M0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96L0 416zM128 256c0-6.7 2.8-13 7.7-17.6l112-104c7-6.5 17.2-8.2 25.9-4.4s14.4 12.5 14.4 22l0 208c0 9.5-5.7 18.2-14.4 22s-18.9 2.1-25.9-4.4l-112-104c-4.9-4.5-7.7-10.9-7.7-17.6z"/>
														</svg>
													</div>

													<div class="student__grades--button next unshow">
														<svg viewBox="0 0 448 512">
															<path d="M448 96c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320zM320 256c0 6.7-2.8 13-7.7 17.6l-112 104c-7 6.5-17.2 8.2-25.9 4.4s-14.4-12.5-14.4-22l0-208c0-9.5 5.7-18.2 14.4-22s18.9-2.1 25.9 4.4l112 104c4.9 4.5 7.7 10.9 7.7 17.6z"/>
														</svg>
													</div>

													<div class="student__grades--selected">
														{{#each grades}}
															<div class="student__selected--container" data-ind="{{@index}}">
																{{#if @last}}
																	<div class="student__selected--title">
																		<span class="student__selected--title">{{test}}</span>
																		<svg viewBox="0 0 512 512">
																			<title>Asistencias, intervenciones, etc.</title>
																			<path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"/>
																		</svg>
																	</div>
																{{else}}
																	<span class="student__selected--title">{{test}}</span>
																{{/if}}
																<div class="student__selected--grade">
																	<span>Nota:</span>
																	<span>{{grade}}</span>
																</div>
															</div>
														{{/each}}
													</div>

												</div>
											</div>
										</div>
									{{/each}}

								</div>

							{{else}}

								<div class="empty__list">
									<span>Aun no hay estudiantes en esta clase.</span>
								</div>

							{{/if}}
						</div>
					</div>
				</div>
			</div>
		</main>

	{{/if}}

{{/if}}